#!/bin/bash

echo "Performing the S2I build..."

echo -e "\n\n    *** running 'todo-backend' assemble script (1)"

#TODO: add call to the standard S2I assemble script
echo -e "\n\n    *** calling /usr/libexec/s2i/assemble script"
/usr/libexec/s2i/assemble

echo -e "\n\n    *** running 'todo-backend' assemble script (2)"

rc=$?

if [ $rc -eq 0 ]; then
    echo "Recording successful build on the life cycle management system..."
else
    echo "Not calling the life cycle management system: S2I build failed!"
fi
exit $rc
